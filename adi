#!/bin/bash

# adi - Interactive CLI Portfolio
# Version: 2.1.0

# If stdin isn't a TTY (e.g., running via `curl ... | bash`), rebind to the terminal
if [ ! -t 0 ] && [ -e /dev/tty ]; then
  exec </dev/tty
fi

# Colors
CYAN='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
MAGENTA='\033[0;35m'
RED='\033[0;31m'
BOLD='\033[1m'
DIM='\033[2m'
RESET='\033[0m'

# Loading animation
show_loading() {
    echo -e "${CYAN}Initializing Aditya's CLI Mini-Portfolio...${RESET}"
    echo -n "["
    for i in {1..30}; do
        echo -n "â–ˆ"
        sleep 0.03
    done
    echo "] 100%"
    sleep 0.3
    clear
}

# Welcome screen
show_welcome() {
    echo -e "${CYAN}"
    cat << "EOF"
       _____
      /     \
     |Í ÍOÍ Í Í ÍOÍ Í|
     |   >   |
     |  ___  |
      \_____/
     ___|_|___
    |  HELLO  |
     ~~~~~~~~~
EOF
    echo -e "${RESET}"
    echo -e "${BOLD}Hello, I'm Aditya Garyali.${RESET}"
    echo -e "Welcome to my CLI portfolio."
    echo ""
    echo -e "${GREEN}Type 'start' to explore.${RESET}"
    echo ""
}

# Main menu
show_menu() {
    clear
    echo -e "${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${RESET}"
    echo -e "${CYAN}â•‘${RESET}          ${BOLD}ADITYA'S MINI-PORTFOLIO${RESET}               ${CYAN}â•‘${RESET}"
    echo -e "${CYAN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${BOLD}Available paths:${RESET}"
    echo ""
    echo -e "  ${GREEN}about${RESET}        who I am and what I care about"
    echo -e "  ${GREEN}work${RESET}         some of the things I've worked on"
    echo -e "  ${GREEN}fun${RESET}          useless but delightful things"
    echo -e "  ${RED}exit${RESET}         close the workspace"
    echo ""
    echo -ne "${BOLD}â†’${RESET} "
}

# About section
show_about() {
    clear
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo -e "${BOLD}  ABOUT${RESET}"
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo "I'm Aditya, a product designer who likes understanding how"
    echo "things work beneath the surface. I approach design by trimming"
    echo "noise and building from the underlying logic outward."
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    press_enter
}

# Work section - Project list
show_work() {
    clear
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo -e "${BOLD}  WORK${RESET}"
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "  ${GREEN}[1]${RESET} ${BOLD}Databass AI${RESET}"
    echo -e "      ${DIM}Helping AI understand human nuance${RESET}"
    echo ""
    echo -e "  ${GREEN}[2]${RESET} ${BOLD}Johnson & Johnson${RESET}"
    echo -e "      ${DIM}Improving supply chain monitoring at scale${RESET}"
    echo ""
    echo -e "  ${GREEN}[3]${RESET} ${BOLD}ZillSkill${RESET}"
    echo -e "      ${DIM}Making hobby discovery engaging and sustainable for kids${RESET}"
    echo ""
    echo -e "  ${RED}[back]${RESET} Return to main menu"
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -ne "${BOLD}â†’${RESET} "
    
    read -r choice
    case $choice in
        1) show_project_databass ;;
        2) show_project_jnj ;;
        3) show_project_zillskill ;;
        back) return ;;
        *)
            echo -e "${RED}Invalid option. Try 1, 2, 3, or back${RESET}"
            sleep 1.5
            show_work
            ;;
    esac
}

# Project detail pages
show_project_databass() {
    clear
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo -e "${BOLD}  DATABASS AI${RESET}"
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${DIM}Helping AI understand human nuance${RESET}"
    echo ""
    
    echo -e "${BOLD}Goal${RESET}"
    echo "AI models couldn't capture each user's individual music taste,"
    echo "leading to bland or off-target outputs."
    echo ""
    echo -e "${BOLD}Solution${RESET}"
    echo "Designed a context-aware, two-step intent-capture flow that"
    echo "learns mood, genre, and stylistic cues through lightweight"
    echo "iteration."
    echo ""
    echo -e "${BOLD}Outcome${RESET}"
    echo "Higher first-output success rate, fewer re-rolls, and users"
    echo "progressing faster from 'blank canvas' to usable track."
    echo ""
    
    eq_patterns=(
        "    â– â–ƒ â–… â–ˆ â–‡ â–… â–ƒ â–     â–ƒ â–… â–‡ â–ˆ â–‡ â–… â–ƒ     â– â–ƒ â–… â–ˆ â–‡"
        "    â–ƒ â–… â–‡ â–ˆ â–‡ â–… â–ƒ â–     â–… â–‡ â–ˆ â–‡ â–… â–ƒ â–     â–ƒ â–… â–‡ â–ˆ â–‡"
        "    â–… â–‡ â–ˆ â–‡ â–… â–ƒ â– â–ƒ     â–‡ â–ˆ â–‡ â–… â–ƒ â– â–ƒ     â–… â–‡ â–ˆ â–‡ â–…"
        "    â–‡ â–ˆ â–‡ â–… â–ƒ â– â–ƒ â–…     â–ˆ â–‡ â–… â–ƒ â– â–ƒ â–…     â–‡ â–ˆ â–‡ â–… â–ƒ"
        "    â–ˆ â–‡ â–… â–ƒ â– â–ƒ â–… â–‡     â–‡ â–… â–ƒ â– â–ƒ â–… â–‡     â–ˆ â–‡ â–… â–ƒ â–"
        "    â–‡ â–… â–ƒ â– â–ƒ â–… â–‡ â–ˆ     â–… â–ƒ â– â–ƒ â–… â–‡ â–ˆ     â–‡ â–… â–ƒ â– â–ƒ"
    )
    for i in {1..8}; do
        pattern=${eq_patterns[$((i % 6))]}
        echo -ne "\r${MAGENTA}${pattern}${RESET}"
        sleep 0.5
    done
    echo ""
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    press_enter
    show_work
}

show_project_jnj() {
    clear
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo -e "${BOLD}  JOHNSON & JOHNSON${RESET}"
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${DIM}Improving supply chain monitoring at scale${RESET}"
    echo ""
    
    echo -e "${BOLD}Goal${RESET}"
    echo "Data-entry workflow was slow, error-prone, and mentally"
    echo "exhausting for global supply-chain teams."
    echo ""
    echo -e "${BOLD}Solution${RESET}"
    echo "Redesigned the system with role-based tables and bulk-entry"
    echo "patterns."
    echo ""
    echo -e "${BOLD}Outcome${RESET}"
    echo "Workflows became ~85% faster, error rates dropped."
    echo ""
    
    conveyor_frames=(
        "    â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â†’  [PROCESSING]"
        "    â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â†’  [PROCESSING]"
        "    â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â†’  [PROCESSING]"
        "    â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â†’  [OPTIMIZED]"
        "    â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â†’  [OPTIMIZED]"
        "    â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â€•â€•â—¼ï¸â†’  [OPTIMIZED]"
    )
    for i in {1..10}; do
        frame=${conveyor_frames[$((i % 6))]}
        echo -ne "\r${BLUE}${frame}${RESET}"
        sleep 0.5
    done
    echo ""
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    press_enter
    show_work
}

show_project_zillskill() {
    clear
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo -e "${BOLD}  ZILLSKILL${RESET}"
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    echo -e "${DIM}Making hobby discovery engaging and sustainable for kids${RESET}"
    echo ""
    
    echo -e "${BOLD}Goal${RESET}"
    echo "Help kids identify hobbies they love and stick to them."
    echo ""
    echo -e "${BOLD}Solution${RESET}"
    echo "Gamified onboarding funnel and daily use that captures"
    echo "interests in a low-stakes way."
    echo ""
    echo -e "${BOLD}Outcome${RESET}"
    echo "Meaningful hobby discovery with consistent 7-day engagement."
    echo ""
    
    plant_frames=(
        "         Â·           [DAY 1]"
        "        Â·:Â·          [DAY 2]"
        "       Â·:::Â·         [DAY 3]"
        "      Â· ::: Â·        [DAY 4]"
        "     Â·  :::  Â·       [DAY 5]"
        "    Â· Â· ::: Â· Â·      [DAY 6]"
        "   Â·  Â·::::: Â·  Â·    [DAY 7]"
        "  Â· Â· Â·:::::Â· Â· Â·    [GROWING]"
        "  Â·  Â·::ğŸŒ±::Â·  Â·     [THRIVING]"
    )
    for i in {0..8}; do
        frame=${plant_frames[$i]}
        echo -ne "\r${GREEN}${frame}${RESET}"
        sleep 0.6
    done
    echo ""
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    press_enter
    show_work
}

# Fun section
show_fun() {
    clear
    echo -e "${MAGENTA}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo -e "${BOLD}  FUN${RESET}"
    echo -e "${MAGENTA}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    
    echo -e "${BOLD}Ê•â€¢á´¥â€¢Ê”${RESET} The bread at Dante West Village is a top-tier"
    echo "   life experience."
    echo ""
    
    echo -e "${BOLD}Ê•â€¢á´¥â€¢Ê”${RESET} I love biryani"
    echo ""
    
    echo -e "${BOLD}Ê•â€¢á´¥â€¢Ê”${RESET} Current energy: ğŸ˜®â€ğŸ’¨ ğŸ˜ˆ ğŸ˜•"
    echo ""
    
    echo -e "${BOLD}Ê•â€¢á´¥â€¢Ê”${RESET} I love learning about why humans do what we do"
    echo "   (behavior)"
    echo ""
    
    echo -e "${DIM}      âœ¨ Â· Â· â‹† Â· Â· âœ¨ Â· Â· â‹† Â· Â· âœ¨${RESET}"
    echo ""
    
    echo -e "${MAGENTA}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
    echo ""
    press_enter
}

# Helper function
press_enter() {
    echo -ne "${YELLOW}Press Enter to return to menu...${RESET}"
    read
}

# Main program flow
main() {
    show_loading
    show_welcome

    # Wait for 'start' command
    while true; do
        read -r input
        if [[ "$input" == "start" ]]; then
            break
        else
            echo -e "${RED}Please type 'start' to begin.${RESET}"
            echo -ne "${BOLD}â†’${RESET} "
        fi
    done
    
    # Main menu loop
    while true; do
        show_menu
        read -r choice
        case $choice in
            about)  show_about ;;
            work)   show_work ;;
            fun)    show_fun ;;
            exit)
                clear
                echo ""
                echo -e "${GREEN}Thanks for visiting! ğŸ‘‹${RESET}"
                echo ""
                echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
                echo -e "${BOLD}Let's connect:${RESET}"
                echo ""
                echo -e "  ${BLUE}â—•â€¿â—•${RESET} adigary00@gmail.com"
                echo -e "  ${BLUE}(áµ”á´¥áµ”)${RESET} linkedin.com/in/adi2612"
                echo ""
                echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
                echo ""
                echo -e "${DIM}Type 'start' to see available paths again${RESET}"
                echo -e "${DIM}Control + C to exit portfolio${RESET}"
                echo ""
                # Wait for user input to restart or allow Ctrl+C to quit
                while true; do
                    read -r input
                    if [[ "$input" == "start" ]]; then
                        break
                    else
                        echo -e "${RED}Type 'start' to continue or press Control + C to exit.${RESET}"
                        echo -ne "${BOLD}â†’${RESET} "
                    fi
                done
                ;;
            *)
                echo -e "${RED}Invalid path. Try: about, work, fun, or exit${RESET}"
                sleep 1.5
                ;;
        esac
    done
}

# Run the program
main
